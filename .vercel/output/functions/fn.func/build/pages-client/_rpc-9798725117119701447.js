(()=>{function B(G){const V=document.querySelectorAll("[data-action]");for(let X of V){X.removeAttribute("data-action");const k=X.dataset;for(let[Z,j]of Object.entries(k)){const L=Z.toLowerCase(),J=L.replace("action","").replace("on",""),p=X.tagName==="FORM"&&J==="submit",_=+(X.getAttribute("debounce"+J)??0);let F;if(L.startsWith("action"))X.addEventListener(J,(...U)=>{if(U[0]instanceof Event)U[0].preventDefault();clearTimeout(F);const O=()=>G(j,p,X.getAttribute("indicate"+J),k,...U);if(_)F=setTimeout(O,_);else O()})}}}function q(G){const H=G?.args?.[0];if(H instanceof Event)G.args[0]=u(D(H,(K,V)=>{const X=(Z)=>V instanceof Z,k=X(Node);if(X(Event)||k&&K.match(/target/i)){const Z={};for(let j in V)Z[j]=V[j];if(X(CustomEvent))Z._wc=!0;return Z}if(V!=null&&V!==""&&!k&&!X(Window))return V}));return D(G)}var{stringify:D,parse:u}=JSON;function y(){return Y._rpc?h.resolve():new h((G)=>{const H=x.createElement("script"),K=W(x.head,"basepath")??"";H.onload=H.onerror=G,H.src=K+"/_brisa/pages/_rpc-lazy-9798725117119701447.js",x.head.appendChild(H)})}async function Q(G,H=!1,K,V,...X){const k="e"+K,Z=[],j=Y._s,L=y();if(K){for(let J of I(`[${P}]`))if(W(J,P)?.includes(K))J.classList.add(z),Z.push(J),j?.set(K,!0)}try{const J=await fetch(location.toString(),{method:C,signal:E(),headers:{"x-action":G,"x-actions":V.actions??""},body:b(X,H)});if(!J.ok)j?.set(k,await J.text());await L,await Y._rpc(J,V,X),B(Q)}catch(J){j?.set(k,J.message)}finally{for(let J of Z)J.classList.remove(z);j?.set(K,!1)}}function R(G){const H=Y._xm??W(N(),"rendermode");if(Y._xm=null,H!=="native"&&!G.hashChange&&G.downloadRequest===null&&G.canIntercept&&G.navigationType!=="replace")G.intercept({async handler(){const K=await fetch(G.destination.url,{method:C,signal:E(),body:b()});await y(),await Y._rpc(K,null,H),Y.scrollTo(0,0),B(Q)}})}function N(G=x.activeElement){return G?.shadowRoot?N(G.shadowRoot.activeElement):G}function W(G,H){return G?.getAttribute(H)}function E(){return M.abort(),M=new AbortController,M.signal}function I(G){return x.querySelectorAll(G)}function f(){if(B(Q),!T)requestAnimationFrame(f)}var P="indicator",z="brisa-request",x=document,Y=window,C="POST",h=Promise,M=new AbortController,T=0,b=(G,H)=>{const K=Y._s?[..._s.Map]:Y._S??[];if(H){const V=new FormData(G[0].target);return V.append("x-s",q(K)),V}return q({"x-s":K,args:G})};f();if("navigation"in Y)Y.navigation.addEventListener("navigate",R);x.addEventListener("DOMContentLoaded",()=>{T=1,B(Q)});
})()