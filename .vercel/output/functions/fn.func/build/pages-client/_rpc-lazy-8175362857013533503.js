(()=>{function z(){for(let e of document.scripts)if(e.id&&!/R:\d+/.test(e.id)||e.hasAttribute("src"))V.add(e.id||e.getAttribute("src"))}async function J(e){const l=window,i=document;if(e.nodeName!=="SCRIPT")return;const a=e.getAttribute("src");if(V.has(a)||V.has(e.id))return;await l.lastDiffTransition?.finished;const n=i.createElement("script");if(a)n.src=a;if(n.innerHTML=e.innerHTML,await y,a)y=new Promise((u)=>n.onload=n.onerror=()=>u(n.remove()));if(i.head.appendChild(n),!a)n.remove()}var V=new Set,y;async function x(e,l,i){if(e.nodeType!==l.nodeType)return i[0](()=>e.parentNode.replaceChild(l.cloneNode(!0),e));if(e.nodeType===1)await D(e,l,i),i[0](()=>{if(e.nodeName===l.nodeName){if(l.nodeName!=="BODY")I(e.attributes,l.attributes)}else{const a=l.nodeName==="TEMPLATE",n=l.cloneNode(a);while(e.firstChild)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}});else if(e.nodeValue!==l.nodeValue)i[0](()=>e.nodeValue=l.nodeValue)}function I(e,l){let i,a,n,u,m;for(i=e.length;i--;)if(a=e[i],u=a.namespaceURI,m=a.localName,n=l.getNamedItemNS(u,m),!n)e.removeNamedItemNS(u,m);for(i=l.length;i--;){if(a=l[i],u=a.namespaceURI,m=a.localName,n=e.getNamedItemNS(u,m),a.name==="data-action")continue;if(!n)l.removeNamedItemNS(u,m),e.setNamedItemNS(a);else if(n.value!==a.value)n.value=a.value}}async function D(e,l,i){let a,n,u,m,N=null,h=e.firstChild,t=await i[1](l),d=0;while(h)if(d++,a=h,n=E(a),h=h.nextSibling,n){if(!N)N={};N[n]=a}h=e.firstChild;while(t){let f;if(N&&(u=E(t))&&(m=N[u])){if(delete N[u],m!==h)i[0](()=>e.insertBefore(m,h));else h=h.nextSibling;await x(m,t,i)}else if(h)if(a=h,h=h.nextSibling,E(a))f=t.cloneNode(!0),i[0](()=>e.insertBefore(f,a));else await x(a,t,i);else f=t.cloneNode(!0),i[0](()=>e.appendChild(f));if(f?.nodeType===1)await x(f,t,i);if(t=await i[2](t),!f)d--}i[0](()=>{for(n in N)d--,e.removeChild(N[n]);while(--d>=0)e.removeChild(e.lastChild)})}function E(e){return e?.getAttribute?.("key")||e.id}async function Q(e,l={}){const i=document.implementation.createHTMLDocument();i.open();const a=new TextDecoderStream,n=a.readable.getReader();let u=!0;e.pipeTo(a.writable),m();async function m(){try{while(!0){const{done:t,value:d}=await n.read();if(t){u=!1;break}i.write(d)}}finally{i.close()}}while(!i.documentElement||h(i.documentElement))await T();function N(t){return async(d)=>{if(!d)return null;let f=d[t];while(l.shouldIgnoreNode?.(f))f=f[t];if(f)l.onNextNode?.(f);const b=t==="firstChild";while(h(f,b))await T();return f}}function h(t,d){if(!t||!u||t.nextSibling)return!1;if(k.has(t.nodeName))return!i.body?.hasChildNodes?.();let f=t.parentElement;while(f){if(f.nextSibling)return!1;f=f.parentElement}return d?u:u&&!t.hasChildNodes?.()}return{root:i.documentElement,[1]:N("firstChild"),[2]:N("nextSibling"),[0]:(t)=>{if(l.transition&&document.startViewTransition)window.lastDiffTransition=document.startViewTransition(t);else t()}}}async function Y(e,l,i){const a=await Q(l,i),n=a.root;if(e.nodeType===9)e=e.documentElement;if(n.nodeType===11)await D(e,n,a);else await x(e,n,a)}var k=new Set(["HTML","HEAD","BODY"]),T=()=>new Promise((e)=>requestAnimationFrame(e));async function v(e,l,i=[]){const a=o._s,n=e.headers.get("X-Mode"),u=e.headers.get("X-Type"),m=e.headers.get("X-Navigate"),N=e.headers.has("X-Reset"),h=e.headers.get("X-Cid")??l?.cid,t=i===M||n===M,d=u?.includes("C");function f(b){if(a)for(let[w,C]of b)a.set(w,C);else o._S=b}if(N)i[0].target.reset();if(U(e,"json"))f(await e.json());if(m)o._xm=n,location.assign(m);else if(U(e,"html")){z();const b=d?new ReadableStream({async start(w){const C=document.documentElement.outerHTML;w.enqueue(S.encode(C.split(`<!--o:${h}-->`)[0]));const X=e.body.getReader();while(!0){const{value:g,done:A}=await X.read();if(A)break;w.enqueue(g)}w.enqueue(S.encode(C.split(`<!--c:${h}-->`)[1])),w.close()}}):e.body;await Y(document,b,{onNextNode:J,transition:t,shouldIgnoreNode:(w)=>{if(w?.id!=="S")return!1;return f(JSON.parse(w.textContent)),!0}}),await o.lastDiffTransition?.finished}}function U(e,l){return e.body&&e.headers.get("content-type")?.includes(l)}var M="transition",o=window,S=new TextEncoder;o._rpc=v;
})()