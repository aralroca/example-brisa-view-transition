function Q(t,E){return["portal",{element:t,target:E}]}function U(t){return Object.assign(["HTML",{html:t},null],{[Symbol.for("isJSX")]:!0})}function W(t,E){return{id:E,defaultValue:t}}function L(t){return t instanceof Error&&t.name==="NotFoundError"}function Y(){throw new Z("Not found")}class Z extends Error{constructor(t){super(t);this.name="NotFoundError"}}function D(t,E){const x=E?.renderMode??"reactivity";if(__BASE_PATH__)t=URL.canParse(t)?t:(__BASE_PATH__??"")+t;if(typeof window!=="undefined"){if(window._xm=x,window.fPath)t=window.fPath(t);location.assign(t);const _=(n)=>{n.preventDefault(),n.stopPropagation(),window.removeEventListener("error",_)};window.addEventListener("error",_)}const N=new Error(t);throw N.name=`navigate:${x}`,N}function I(t){return t instanceof Error&&t.name.startsWith("navigate:")}function S(t){return t instanceof Error&&t.name==="rerender"}function j(t){return S(t)||I(t)||L(t)}var g={is:j,isRerender:S,isNavigate:I,isNotFound:L},K=g;function d(t){if(!t.length)return[];const[E,x,N,_]=t.slice(0,4);return[[E||N,x||"",_]].concat(d(t.slice(4,t.length)))}function G(t,{children:E,...x},N){let _=E;if(Array.isArray(E)&&!E?.[B])_=E.map((n)=>n?.[B]?n:C({children:n}));return Object.assign([t,{...x,key:N},_],{[B]:!0})}var B=Symbol.for("isJSX"),C=(t)=>G(null,t);C.__isFragment=!0;var p=/<(\w+) *>(.*?)<\/\1 *>|<(\w+) *\/>/,b=/(?:\r\n|\r|\n)/g;function F(t,E=[]){const x=t.replace(b,"").split(p);if(x.length===1)return t;const N=[],_=x.shift();if(_)N.push(_);const n=d(x);for(let[X,O,m]of n){const A=E[X]||G(C,{},void 0,!1,void 0,this);if(A[2]=O?F(O,E):O,N.push(A),m)N.push(m)}return N}function f(t,E="",x,N={returnObjects:!1}){const{keySeparator:_="."}=x||{},n=_?E.split(_):[E];if(E===_&&N.returnObjects)return t;const X=n.reduce((O,m)=>{if(typeof O==="string")return{};const A=O[m];return A||(typeof A==="string"?A:{})},t);if(typeof X==="string"||X instanceof Object&&N.returnObjects)return X;return}function r(t,E,x,N,_){if(!_||typeof _.count!=="number")return x;const n=`${x}_${_.count}`;if(f(E,n,N)!==void 0)return n;const X=`${x}_${t.select(_.count)}`;if(f(E,X,N)!==void 0)return X;const O=`${x}.${_.count}`;if(f(E,O,N)!==void 0)return O;const m=`${x}.${t.select(_.count)}`;if(f(E,m,N)!==void 0)return m;return x}function V({text:t,query:E,config:x,locale:N}){if(!t||!E)return t||"";const _=(A)=>A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),{format:n=null,prefix:X="{{",suffix:O="}}"}=x.interpolation||{},m=O===""?"":`(?:[\\s,]+([\\w-]*))?\\s*${_(O)}`;return Object.keys(E).reduce((A,M)=>{const J=new RegExp(`${_(X)}\\s*${M}${m}`,"gm");return A.replace(J,(P,R)=>{return R&&n?n(E[M],R,N):E[M]})},t)}function $({obj:t,query:E,config:x,locale:N}){if(!E||Object.keys(E).length===0)return t;return Object.keys(t).forEach((_)=>{if(t[_]instanceof Object)$({obj:t[_],query:E,config:x,locale:N});if(typeof t[_]==="string")t[_]=V({text:t[_],query:E,config:x,locale:N})}),t}function w(t,E){const{allowEmptyStrings:x=!0}=E,N=new Intl.PluralRules(t),_=(O,m)=>{if(Array.isArray(O))return O.map((A)=>_(A,m));if(O instanceof Object)return $({obj:O,query:m,config:E,locale:t});return V({text:O,query:m,config:E,locale:t})},n=(O="",m,A)=>{const M=E._messages||{},J={...E.messages?.[t]||{},...M},P=r(N,J,O,E,m),R=f(J,P,E,A),T=typeof R==="object"?JSON.parse(JSON.stringify(R)):R,H=typeof T==="undefined"||typeof T==="object"&&!Object.keys(T).length||T===""&&!x,h=typeof A?.fallback==="string"?[A.fallback]:A?.fallback||[];if(H&&Array.isArray(h)&&h.length){const[z,...s]=h;if(typeof z==="string")return X(z,m,{...A,fallback:s})}if(H&&A&&A.hasOwnProperty("default")&&!h?.length)return A.default?_(A.default,m):A.default;if(H)return O;return _(T,m)},X=(O="",m,A)=>{const M=n(O,m,A);return A?.elements?F(M,A.elements):M};return X}export{w as translateCore,K as throwable,Y as notFound,D as navigate,U as dangerHTML,Q as createPortal,W as createContext};
